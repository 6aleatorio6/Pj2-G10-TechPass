<section class="container  col-sm-8 col-md-6 col-lg-5 col-xl-3 m-auto align-content-center py-4 rounded bg-light shadow">

  <img src="images/logo.png" alt="" class="pb-3" style="width: 110px;">
  <!-- <div class="d-flex align-items-center pb-3 justify-content-around">
      </div> -->

  <form class="container-fluid" id="formslogin">
    <div class="row my-3 container-fluid mx-auto px-0">
      <label class="form-label ps-2">email</label>
      <input class="form-control" value="123@gmail.com" type="email" placeholder="digite seu email "  name="email">
    </div>

    <div class=" d-flex flex-column my-3 container-fluid px-0">
      <label class="form-label ps-2">senha</label>
      <div class="d-flex flex-row senhapaia">
        <input name="senha" value="123" id="senha"  class="form-control rounded-end-0 inputsenha" type="password" placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;" />
        <button type="button" class="btn btn-outline-primary rounded-start-0 btnsenha">
          <span class="m-auto"><i class="bi bi-eye-fill"></i></span>
        </button>
      </div>

      <button class="btn btn-primary  w-100 mt-4" type="submit">entrar</button>

      <p class="mt-3 text-center">ainda n√£o cadastrado? <a href="cadastro.html">crie sua conta aqui</a></p>
  </form>
</section>


<script>
  document.addEventListener("DOMContentLoaded", () => {

    const login = document.querySelector("#formslogin")

    login.addEventListener("submit", async () => {
      event.preventDefault();

      // cria um objeto contendo cada input com seu nome e o valor dele
      const data = {}
      for (x of [...login.querySelectorAll("input")]) {
        data[x.name] = x.value
        
      }

      try {
        // add cookie
        const login = await axios.post("http://localhost:9000/api/user/login", data)
        document.cookie = login.data.token

        location.href = "/profile/"
        console.log("logado com sucesso")

        
      } catch (error) {
        acionarerro(error)
      }
    })

  })
</script>